---
markup: mmark
title: "The State of Data Science (Part 1)"
summary: "Results from the latest Kaggle Machine Learning & Data Science Survey (n = 19,717 respondents!)"
author: "David Nield"
date: 2019-11-19
output:
  blogdown::html_page:
    toc: true
categories: ["Kaggle"]
tags: ["survey analysis", "data visualization", "data science"]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)

require(pacman)
p_load(tidyverse, surveydata, gridExtra)

# Theme from edrub.in
theme_ed <- theme(
  legend.position = "bottom",
  panel.background = element_rect(fill = NA),
  panel.border = element_rect(fill = NA, color = "grey75"),
  axis.ticks = element_line(color = "grey95", size = 0.3),
  panel.grid.major = element_line(color = "grey95", size = 0.3),
  panel.grid.minor = element_line(color = "grey95", size = 0.3),
  legend.key = element_blank())

theme_ed_present <- theme(
  legend.position = "bottom",
  panel.background = element_rect(fill = NA),
  panel.border = element_rect(fill = NA, color = "grey75"),
  axis.ticks = element_line(color = "grey95", size = 0.3),
  panel.grid.major = element_line(color = "grey95", size = 0.3),
  panel.grid.minor = element_line(color = "grey95", size = 0.3),
  legend.key = element_blank(),
  text = element_text(size = 14),
  axis.text = element_text(size = 12))

# Taking median of an ordered factor
median.ordered <- function(x)
{
    levs <- levels(x)
    m <- median(as.integer(x), na.rm = TRUE)
    if(floor(m) != m)
    {
      warning("Median is between two values; using the first one")
      m <- floor(m)
    }
    ordered(m, labels = levs, levels = seq_along(levs))
}

# Gender Colors
gender_cols <- c("Male" = "#00BFC4",
                 "Female" = "#F8766D",
                 "Prefer not to say" = "#7CAE00",
                 "Prefer to self-describe" = "#C77CFF")

current <- read_csv("2019_cleaned.csv")

oya <- read_csv("2018_multipleChoiceResponses.csv")

varlabels(oya) <- oya[1,]

varlabels(oya)["Q11_Part_1"]

names(current)
names(oya)

oya <- oya %>% 
  select(-contains("_OTHER_TEXT")) %>% 
  rename(surveyduration = `Time from Start to Finish (seconds)`,
         gender = Q1,
         age = Q2,
         country_of_residence = Q3,
         education = Q4,
         major = Q5,
         job_title = Q6,
         employer_industry = Q7,
         experience_role = Q8,
         yearly_compensation = Q9,
         company_ML_incorporation = Q10,
         role_influence_business_decisions = Q11_Part_1,
         role_build_ML_for_production = Q11_Part_2,
         role_build_or_run_data_infrastructure = Q11_Part_3,
         role_build_ML_prototypes = Q11_Part_4,
         role_ML_research = Q11_Part_5,
         role_none_of_above = Q11_Part_6,
         role_other = Q11_Part_7,
         primarytool = Q12_MULTIPLE_CHOICE,
         primarytool_basic = Q12_Part_1,
         primarytool_advanced = Q12_Part_2,
         primarytool_bi = Q12_Part_3,
         primarytool_devenv = Q12_Part_4,
         primarytool_cloud = Q12_Part_5,
         ide_jupyter = Q13_Part_1,
         ide_rstudio = Q13_Part_2,
         ide_pycharm = Q13_Part_3,
         ide_visualstudiocode = Q13_Part_4,
         ide_nteract = Q13_Part_5,
         ide_atom = Q13_Part_6,
         ide_matlab = Q13_Part_7,
         ide_visualstudio = Q13_Part_8,
         ide_notepadpp = Q13_Part_9,
         ide_sublimetext = Q13_Part_10,
         ide_vim_emacs = Q13_Part_11,
         ide_intellij = Q13_Part_12,
         ide_spyder = Q13_Part_13,
         ide_none = Q13_Part_14,
         ide_other = Q13_Part_15,
         notebook_kaggle = Q14_Part_1,
         notebook_googlecolab = Q14_Part_2,
         notebook_msoft_azure = Q14_Part_3,
         notebook_domino = Q14_Part_4,
         notebook_googledatalab = Q14_Part_5,
         notebook_paperspace = Q14_Part_6,
         notebook_floydhub = Q14_Part_7,
         notebook_crestle = Q14_Part_8,
         notebook_binder_jupyterhub = Q14_Part_9,
         notebook_none = Q14_Part_10,
         notebook_other = Q14_Part_11,
         cloudcomputeplatform_gcp = Q15_Part_1,
         cloudcomputeplatform_aws = Q15_Part_2,
         cloudcomputeplatform_azure = Q15_Part_3,
         cloudcomputeplatform_ibm = Q15_Part_4,
         cloudcomputeplatform_alibaba = Q15_Part_5,
         cloudcomputeplatform_none = Q15_Part_6,
         cloudcomputeplatform_other = Q15_Part_7,
         language_python = Q16_Part_1,
         language_R = Q16_Part_2,
         language_sql = Q16_Part_3,
         language_bash = Q16_Part_4,
         language_java = Q16_Part_5,
         language_javascript_typescript = Q16_Part_6,
         language_visualbasic = Q16_Part_7,
         language_c_cpp = Q16_Part_8,
         language_matlab = Q16_Part_9,
         language_scala = Q16_Part_10,
         language_julia = Q16_Part_11,
         language_go = Q16_Part_12,
         language_csharp_dotnet = Q16_Part_13,
         language_php = Q16_Part_14,
         language_ruby = Q16_Part_15,
         language_sas_stata = Q16_Part_16,
         language_none = Q16_Part_17,
         language_other = Q16_Part_18,
         primarylanguage = Q17,
         recommended_first_language = Q18,
         mlframeworks_sklearn = Q19_Part_1,
         mlframeworks_tensorflow = Q19_Part_2,
         mlframeworks_keras = Q19_Part_3,
         mlframeworks_pytorch = Q19_Part_4,
         mlframeworks_sparkmlib = Q19_Part_5,
         mlframeworks_h2o = Q19_Part_6,
         mlframeworks_fastai = Q19_Part_7,
         mlframeworks_mxnet = Q19_Part_8,
         mlframeworks_caret = Q19_Part_9,
         mlframeworks_xgboost = Q19_Part_10,
         mlframeworks_mlr = Q19_Part_11,
         mlframeworks_prophet = Q19_Part_12,
         mlframeworks_randomforest = Q19_Part_13,
         mlframeworks_lightgbm = Q19_Part_14,
         mlframeworks_catboost = Q19_Part_15,
         mlframeworks_cntk = Q19_Part_16,
         mlframeworks_caffe = Q19_Part_17,
         mlframeworks_none = Q19_Part_18,
         mlframeworks_other = Q19_Part_19,
         primary_ml_library = Q20,
         datavizlib_ggplot = Q21_Part_1,
         datavizlib_matplotlib = Q21_Part_2,
         datavizlib_altair = Q21_Part_3,
         datavizlib_shiny = Q21_Part_4,
         datavizlib_d3 = Q21_Part_5,
         datavizlib_plotly = Q21_Part_6,
         datavizlib_bokeh = Q21_Part_7,
         datavizlib_seaborn = Q21_Part_8,
         datavizlib_geoplotlib = Q21_Part_9,
         datavizlib_leaflet = Q21_Part_10,
         datavizlib_lattice = Q21_Part_11,
         datavizlib_none = Q21_Part_12,
         datavizlib_other = Q21_Part_13,
         primary_dataviz_library = Q22,
         pct_time_coding = Q23,
         experience_data = Q24,
         experience_ml = Q25,
         consider_self_datasci = Q26,
         cloudcomputeproduct_ec2 = Q27_Part_1,
         cloudcomputeproduct_gce = Q27_Part_2,
         cloudcomputeproduct_awselasticbeanstalk = Q27_Part_3,
         cloudcomputeproduct_googleappengine = Q27_Part_4,
         cloudcomputeproduct_googlekubernetes = Q27_Part_5,
         cloudcomputeproduct_lambda = Q27_Part_6,
         cloudcomputeproduct_googlecloudfunctions = Q27_Part_7,
         cloudcomputeproduct_awsbatch = Q27_Part_8,
         cloudcomputeproduct_azurevm = Q27_Part_9,
         cloudcomputeproduct_azurecontainer = Q27_Part_10,
         cloudcomputeproduct_azurefunctions = Q27_Part_11,
         cloudcomputeproduct_azureeventgrid = Q27_Part_12,
         cloudcomputeproduct_azurebatch = Q27_Part_13,
         cloudcomputeproduct_azurekubernetes = Q27_Part_14,
         cloudcomputeproduct_ibmvirtualservers = Q27_Part_15,
         cloudcomputeproduct_ibmcontainer = Q27_Part_16,
         cloudcomputeproduct_ibmkubernetes = Q27_Part_17,
         cloudcomputeproduct_ibmcloudfoundry = Q27_Part_18,
         cloudcomputeproduct_none = Q27_Part_19,
         cloudcomputeproduct_other = Q27_Part_20,
         mlproduct_amazontranscribe = Q28_Part_1,
         mlproduct_googlecloudspeechtotext = Q28_Part_2,
         mlproduct_amazonrekognition = Q28_Part_3,
         mlproduct_googlecloudvision = Q28_Part_4,
         mlproduct_amazoncomprehend = Q28_Part_5,
         mlproduct_googlecloudnaturallanguage = Q28_Part_6,
         mlproduct_amazontranslate = Q28_Part_7,
         mlproduct_googlecloudtranslation = Q28_Part_8,
         mlproduct_amazonlex = Q28_Part_9,
         mlproduct_googlediagflow = Q28_Part_10,
         mlproduct_amazonrekognitionvideo = Q28_Part_11,
         mlproduct_googlecloudvideointelligence = Q28_Part_12,
         mlproduct_googleautoml = Q28_Part_13,
         mlproduct_sagemaker = Q28_Part_14,
         mlproduct_googlecloudmlengine = Q28_Part_15,
         mlproduct_datarobot = Q28_Part_16,
         mlproduct_h20driverless = Q28_Part_17,
         mlproduct_dominodatalab = Q28_Part_18,
         mlproduct_sas = Q28_Part_19,
         mlproduct_dataiku = Q28_Part_20,
         mlproduct_rapidminer = Q28_Part_21,
         mlproduct_instabase = Q28_Part_22,
         mlproduct_algorithmia = Q28_Part_23,
         mlproduct_dataversity = Q28_Part_24,
         mlproduct_cloudera = Q28_Part_25,
         mlproduct_azuremlstudio = Q28_Part_26,
         mlproduct_azuremlworkbench = Q28_Part_27,
         mlproduct_azurecortanaintelligencesuite = Q28_Part_28,
         mlproduct_azurebingspeech = Q28_Part_29,
         mlproduct_azurespeakerrecognition = Q28_Part_30,
         mlproduct_azurecomputervision = Q28_Part_31,
         mlproduct_azureface = Q28_Part_32,
         mlproduct_azurevideo = Q28_Part_33,
         mlproduct_ibmwatsonstudio = Q28_Part_34,
         mlproduct_ibmwatsonknowledgecatalog = Q28_Part_35,
         mlproduct_ibmwatsonassistant = Q28_Part_36,
         mlproduct_ibmwatsondiscovery = Q28_Part_37,
         mlproduct_ibmwatsontts = Q28_Part_38,
         mlproduct_ibmwatsonvisualrecognition = Q28_Part_39,
         mlproduct_ibmwatsonml = Q28_Part_40,
         mlproduct_azurecognitiveservices = Q28_Part_41,
         mlproduct_none = Q28_Part_42,
         mlproduct_other = Q28_Part_43,
         dbproduct_awsrelationaldbs = Q29_Part_1,
         dbproduct_awsaurora = Q29_Part_2,
         dbproduct_googlecloudsql = Q29_Part_3,
         dbproduct_googlecloudspanner = Q29_Part_4,
         dbproduct_awsdynamodb = Q29_Part_5,
         dbproduct_googleclouddatastore = Q29_Part_6,
         dbproduct_googlecloudbigtable = Q29_Part_7,
         dbproduct_awssimpledb = Q29_Part_8,
         dbproduct_msoftsql = Q29_Part_9,
         dbproduct_mysql = Q29_Part_10,
         dbproduct_postgressql = Q29_Part_11,
         dbproduct_sqllite = Q29_Part_12,
         dbproduct_oracledb = Q29_Part_13,
         dbproduct_ingres = Q29_Part_14,
         dbproduct_msoftaccess = Q29_Part_15,
         dbproduct_nexusdb = Q29_Part_16,
         dbproduct_sapiq = Q29_Part_17,
         dbproduct_googlefusiontables = Q29_Part_18,
         dbproduct_azuremysql = Q29_Part_19,
         dbproduct_azurecosmosdb = Q29_Part_20,
         dbproduct_azuresqldb = Q29_Part_21,
         dbproduct_azurepostgresql = Q29_Part_22,
         dbproduct_ibmcloudcompose = Q29_Part_23,
         dbproduct_ibmcloudcomposemysql = Q29_Part_24,
         dbproduct_ibmcloudcomposepostgresql = Q29_Part_25,
         dbproduct_ibmclouddb2 = Q29_Part_26,
         dbproduct_none = Q29_Part_27,
         dbproduct_other = Q29_Part_28,
         bigdataproduct_elasticmapreduce = Q30_Part_1,
         bigdataproduct_awsbatch = Q30_Part_2,
         bigdataproduct_googleclouddataproc = Q30_Part_3,
         bigdataproduct_googleclouddataflow = Q30_Part_4,
         bigdataproduct_googleclouddataprep = Q30_Part_5,
         bigdataproduct_awskinesis = Q30_Part_6,
         bigdataproduct_googlecloudpubsub = Q30_Part_7,
         bigdataproduct_athena = Q30_Part_8,
         bigdataproduct_redshift = Q30_Part_9,
         bigdataproduct_bigquery = Q30_Part_10,
         bigdataproduct_teradata = Q30_Part_11,
         bigdataproduct_msoftanalysis = Q30_Part_12,
         bigdataproduct_oracleexadata = Q30_Part_13,
         bigdataproduct_oraclewarehousebuiderl = Q30_Part_14,
         bigdataproduct_sapiq = Q30_Part_15,
         bigdataproduct_snowflake = Q30_Part_16,
         bigdataproduct_databricks = Q30_Part_17,
         bigdataproduct_azuresqldatawarehouse = Q30_Part_18,
         bigdataproduct_azurehdinsight = Q30_Part_19,
         bigdataproduct_azurestreamanalytics = Q30_Part_20,
         bigdataproduct_ibminfospheredatastorage = Q30_Part_21,
         bigdataproduct_ibmcloudanalyticsengine = Q30_Part_22,
         bigdataproduct_ibmcloudstreaminganalytics = Q30_Part_23,
         bigdataproduct_none = Q30_Part_24,
         bigdataproduct_other = Q30_Part_25,
         datatypes_audio = Q31_Part_1,
         datatypes_categorical = Q31_Part_2,
         datatypes_genetic = Q31_Part_3,
         datatypes_geospatial = Q31_Part_4,
         datatypes_image = Q31_Part_5,
         datatypes_numeric = Q31_Part_6,
         datatypes_sensor = Q31_Part_7,
         datatypes_tabular = Q31_Part_8,
         datatypes_text = Q31_Part_9,
         datatypes_timeseries = Q31_Part_10,
         datatypes_video = Q31_Part_11,
         datatypes_other = Q31_Part_12,
         primary_datatype = Q32,
         publicdatasource_govt = Q33_Part_1,
         publicdatasource_universityresearchgroups = Q33_Part_2,
         publicdatasource_nonprofitresearchgroups = Q33_Part_3,
         publicdatasource_dataaggregators = Q33_Part_4,
         publicdatasource_selfcollect = Q33_Part_5,
         publicdatasource_publicdatafromprivatecompanies = Q33_Part_6,
         publicdatasource_googlesearch = Q33_Part_7,
         publicdatasource_googledatasetsearch = Q33_Part_8,
         publicdatasource_github = Q33_Part_9,
         publicdatasource_none = Q33_Part_10,
         publicdatasource_other = Q33_Part_11,
         analysisshare_gathering = Q34_Part_1,
         analysisshare_cleaning = Q34_Part_2,
         analysisshare_visualizing = Q34_Part_3,
         analysisshare_modelbuilding = Q34_Part_4,
         analysisshare_modelimplementation = Q34_Part_5,
         analysisshare_communicatinginsights = Q34_Part_6,
         analysisshare_other = Q34_Part_7,
         trainingshare_selftaught = Q35_Part_1,
         trainingshare_onlinecourse = Q35_Part_2,
         trainingshare_work = Q35_Part_3,
         trainingshare_university= Q35_Part_4,
         trainingshare_kaggle = Q35_Part_5,
         trainingshare_other = Q35_Part_6,
         datascicourses_udacity = Q36_Part_1,
         datascicourses_coursera = Q36_Part_2,
         datascicourses_edx = Q36_Part_3,
         datascicourses_datacamp = Q36_Part_4,
         datascicourses_dataquest = Q36_Part_5,
         datascicourses_kaggle = Q36_Part_6,
         datascicourses_fastai = Q36_Part_7,
         datascicourses_googledevs = Q36_Part_8,
         datascicourses_udemy = Q36_Part_9,
         datascicourses_theschoolai = Q36_Part_10,
         datascicourses_university = Q36_Part_11,
         datascicourses_none = Q36_Part_12,
         datascicourses_other = Q36_Part_13,
         primary_datascicourse = Q37,
         datascimedia_twitter = Q38_Part_1,
         datascimedia_hackernews = Q38_Part_2,
         datascimedia_reddit = Q38_Part_3,
         datascimedia_kaggleforum = Q38_Part_4,
         datascimedia_fastaiforum = Q38_Part_5,
         datascimedia_siraj = Q38_Part_6,
         datascimedia_datatau = Q38_Part_7,
         datascimedia_lineardisgressions = Q38_Part_8,
         datascimedia_cloudaiadventures = Q38_Part_9,
         datascimedia_fivethirtyeight = Q38_Part_10,
         datascimedia_arxiv = Q38_Part_11,
         datascimedia_journalpubs = Q38_Part_12,
         datascimedia_fastmlblog = Q38_Part_13,
         datascimedia_kdnuggets = Q38_Part_14,
         datascimedia_oreilly = Q38_Part_15,
         datascimedia_partiallyderivative = Q38_Part_16,
         datascimedia_dataskeptic = Q38_Part_17,
         datascimedia_medium = Q38_Part_18,
         datascimedia_towardsdatasci = Q38_Part_19,
         datascimedia_analyticsvidhya = Q38_Part_20,
         datascimedia_none = Q38_Part_21,
         datascimedia_other = Q38_Part_22,
         quality_onlineplatforms = Q39_Part_1,
         quality_bootcamps = Q39_Part_2,
         academicachive_or_indprojects = Q40,
         importance_unfairbias = Q41_Part_1,
         importance_explainability = Q41_Part_2,
         importance_reproducibility = Q41_Part_3,
         metrics_revenue = Q42_Part_1,
         metrics_accuracy = Q42_Part_2,
         metrics_unfairbias = Q42_Part_3,
         metrics_na = Q42_Part_4,
         metrics_other = Q42_Part_5,
         share_explore_unfair_bias = Q43,
         unfairbiasdifficulty_collection_analysis_disconnect = Q44_Part_1,
         unfairbiasdifficulty_identifying_targeted_group = Q44_Part_2,
         
         )
```
